---
import Layout from '../layouts/Layout.astro';
import gearImage from '../images/keyboards.webp';
import Card from '../components/Card.astro';

import Hero from '../components/Hero.astro';
let res = await fetch('https://contentmedia.dev/wp-json/wp/v2/posts?_embed');
let posts = await res.json();
---

<Layout metaTitle='Home | Musically-Equipped'>
  <Hero title='Musically-Equipped' />
  <section>
    <div
      class='max-w-screen-xl container flex flex-col-reverse md:flex-row mx-auto'
    >
      <div class='p-10 md:w-2/3'>
        <img class='rounded-md' src={gearImage} alt='' />
      </div>
      <div
        class='flex flex-col px-3 space-y-3 py-10 justify-center text-center mx-auto md:w-1/3 md:text-left'
      >
        <p class='text-yellow-500 font-semibold text-xl'>Welcom to</p>
        <h2 class='text-yellow-500 text-3xl font-bold'>Musically Equipped</h2>
        <p class='leading-8'>
          Finding the right musical gear at an affordable price can be a
          challenge. We're here to make that challenge a little easier with
          tips, reviews and how-to's
        </p>
      </div>
    </div>
  </section>
  <section id='featured-post'>
    <section>
      <div class='container flex flex-col md:flex-row mx-auto my-10 space-x-5'>
        {
          posts.map((post) => (
            <Card
              title={post.title.rendered}
              image={
                post._embedded['wp:featuredmedia'][0].media_details.sizes
                  .medium_large.source_url
              }
              url={`/posts/${post.slug}/`}
              description={post.excerpt.rendered}
            />
          ))
        }
      </div>
    </section>
  </section>
</Layout>
